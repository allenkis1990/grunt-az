<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{margin:0;padding:0;}
        .clear{
            overflow:hidden;
            _zoom:1;
        }
        .box{width:1000px;margin:100px auto}
        .main{float:left;margin:10px 10px;width:250px;height:160px;background:red;position:relative;overflow:hidden;}
        .modal{position:absolute;width:100%;height:100%;background:#000;opacity:0.5;top:170px;left:0px;}
    </style>
</head>
<body>
<div class="clear box">
    <div class="main">
        <div class="modal"></div>
    </div>
    <div class="main">
        <div class="modal"></div>
    </div>
    <div class="main">
        <div class="modal"></div>
    </div>
    <div class="main">
        <div class="modal"></div>
    </div>
    <div class="main">
        <div class="modal"></div>
    </div>
    <div class="main">
        <div class="modal"></div>
    </div>
    <div class="main">
        <div class="modal"></div>
    </div>
</div>

<script type="text/javascript" src="../js/jquery-1.9.1.min.js"></script>
<script>

    function getMin(a,b,c,d){
        return Math.min(a,b,c,d);
    }
    //console.log(getMin(1,2,3,4));

    $('.main').each(function(){
        var w=$(this).width(),
            h=$(this).height();

        $(this).mouseenter(function(e){
            var left1= e.offsetX,
                    top1= e.offsetY,
                    right1=w-left1,
                    bottom1=h-top1
            if(getMin(left1,top1,right1,bottom1)==left1){//左边
                $(this).find('.modal').stop(true).css({left:-w,top:0}).animate({left:0,top:0},'fast');
            }

            if(getMin(left1,top1,right1,bottom1)==right1){//右边
                $(this).find('.modal').stop(true).css({left:w,top:0}).animate({left:0,top:0},'fast');
            }

            if(getMin(left1,top1,right1,bottom1)==top1){//上边
                $(this).find('.modal').stop(true).css({left:0,top:-h}).animate({left:0,top:0},'fast');
            }

            if(getMin(left1,top1,right1,bottom1)==bottom1){//下边
                $(this).find('.modal').stop(true).css({left:0,top:h}).animate({left:0,top:0},'fast');
            }

            //console.log(left1);
        });

        $(this).mouseleave(function(e){
            var left1= e.offsetX,
                    top1= e.offsetY,
                    right1=w-left1,
                    bottom1=h-top1
            if(getMin(left1,top1,right1,bottom1)==left1){
                $(this).find('.modal').stop(true).animate({left:-w,top:0},'fast');
            }

            if(getMin(left1,top1,right1,bottom1)==right1){
                $(this).find('.modal').stop(true).animate({left:w,top:0},'fast');
            }

            if(getMin(left1,top1,right1,bottom1)==top1){
                $(this).find('.modal').stop(true).animate({left:0,top:-h},'fast');
            }

            if(getMin(left1,top1,right1,bottom1)==bottom1){
                $(this).find('.modal').stop(true).animate({left:0,top:h},'fast');
            }
            //console.log(left1);
        });


    });






</script>
</body>
</html>
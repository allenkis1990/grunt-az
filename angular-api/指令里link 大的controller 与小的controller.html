<!DOCTYPE html>
<html ng-app="app">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body ng-controller="con">

<div dir call-back="fn"></div>

<script type="text/javascript" src="../js/angular.min.js"></script>
<script>
    var app=angular.module('app',[]);
    app.controller('con',function($scope,fac,$log){
        $log.log(fac.obj);
        $scope.fn=function(){
            alert('callback');
        }
    });

    app.directive('dir',function(){
        return {
            replace:true,
            template:'<div class="main"><button ng-click="click()">click me</button></div>',
            link:function($scope,ele,attr){
                $scope.click=function(){
                    console.log(attr.callBack);
                    $scope.callBack();
                }
            },
            controller:function($scope){
                $scope.A2='22AAAAAA';
            },
            scope:{callBack:'&'}
        }
    });




    app.factory('fac',function(){
        return {
            obj:'allen'
        }
    });
</script>
</body>
</html>
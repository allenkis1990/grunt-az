<!DOCTYPE html>
<html ng-app="app">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body ng-controller="con">

<input type="text" ng-model="aaa" mydir />
<div>
    <span ng-if="info==1">1</span>
    <span ng-if="info==2">2</span>
    <span ng-if="info==3">3</span>
</div>

<script src="../js/angular2.min.js"></script>
<script>
    var app=angular.module('app',[]);
    app.controller('con',function($scope){

    });
    app.directive('mydir',function(){
        return {
            require:'?^ngModel',
            replace:true,
            link:function($scope,ele,attr,ngModel){
                ngModel.$viewChangeListeners.push(function(){
                    var viewVal=ngModel.$viewValue;
                    if(viewVal==1){
                        $scope.info=1;
                    }

                    else if(viewVal==2){
                        $scope.info=2;
                    }

                    else if(viewVal==3){
                        $scope.info=3;
                    }else{
                        $scope.info=0;
                    }
                });
            }
        }
    });
</script>
</body>
</html>
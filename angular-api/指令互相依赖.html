<!DOCTYPE html>
<html ng-app="app">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body ng-controller="con">

<div mydir>
    <div allen>

    </div>
</div>



<script src="../js/jquery-1.9.1.min.js"></script>
<script src="../js/angular2.min.js"></script>
<script>
    var app=angular.module('app',[]);


    app.controller('con',function(){

    });

    app.directive('mydir',function(){
        return {

            scope:{

            },

            controller:function(){
                this.aaa=function(){
                    alert(1);
                }
            },

            link:function($scope,ele,attr){
                $scope.ha=function(){

                }
            }
        }
    });

    app.directive('allen',function(){
        return {
            scope:{

            },

            require:['^mydir'],

            link:function($scope,ele,attr,ctrl){
                console.log(ctrl);
            }
        }
    });

</script>
</body>
</html>